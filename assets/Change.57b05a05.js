import{_ as p,o as a,c,a as e,e as r,w as i,b as l}from"./index.88cd8c62.js";const u={data(){return{id:"",oldpassword:"",newpassword:""}},methods:{confirm:function(){if(this.id.trim()==""||this.oldpassword.trim()==""){console.log("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://db-api.amarea.cn/users/"+this.id).then(o=>o.json()).then(o=>{if(console.log(o),o.id===this.id&&o.password===this.oldpassword)this.confirmnext();else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(o=>alert(o))},confirmnext:function(){const o=new Headers;o.append("Content-Type","application/json"),fetch("https://db-api.amarea.cn/users/"+this.id,{method:"PATCH",headers:o,body:JSON.stringify({password:this.newpassword})}).then(s=>s.json()).then(s=>{console.log(s),alert("\u5BC6\u7801\u4FEE\u6539\u6210\u529F")}).catch(s=>console.log(s))}}},h={class:"wrap"},m={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},f=e("div",{class:"form-group"},[e("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u4FEE\u6539\u5BC6\u7801")],-1),w={class:"form-group"},g={class:"form-group"},_={class:"form-group"},x={class:"buttonLogin"};function y(o,s,b,v,n,d){return a(),c("div",h,[e("form",m,[f,e("div",w,[e("p",null,[r(" \u7528\u6237\u540D: "),i(e("input",{style:{height:25+"px"},"onUpdate:modelValue":s[0]||(s[0]=t=>n.id=t),type:"text",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,512),[[l,n.id]])])]),e("div",g,[e("p",null,[r(" \u65E7\u5BC6\u7801: "),i(e("input",{style:{height:25+"px"},"onUpdate:modelValue":s[1]||(s[1]=t=>n.oldpassword=t),type:"text",placeholder:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801"},null,512),[[l,n.oldpassword]])])]),e("div",_,[e("p",null,[r(" \u65B0\u5BC6\u7801: "),i(e("input",{style:{height:25+"px"},"onUpdate:modelValue":s[2]||(s[2]=t=>n.newpassword=t),type:"password",placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},null,512),[[l,n.newpassword]])])]),e("div",x,[e("button",{class:"btn",onClick:s[3]||(s[3]=(...t)=>d.confirm&&d.confirm(...t))},"\u786E\u8BA4"),e("button",{class:"btn",onClick:s[4]||(s[4]=(...t)=>o.cancel&&o.cancel(...t))},"\u53D6\u6D88")])])])}const V=p(u,[["render",y]]);export{V as default};
