import{s as u}from"./index.266d2cb5.js";import{_ as p,o as d,c,a as s,e as i,w as l,b as a}from"./index.88cd8c62.js";const m={data(){return{username:"",name:"",password:"",store:u}},methods:{login:function(){if(this.username.trim()==""||this.password.trim()==""){alert("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://db-api.amarea.cn/users/"+this.username).then(e=>e.json()).then(e=>{if(console.log(e),e.id===this.username&&e.password===this.password)console.log(e.name),this.store.nickname=e.name,localStorage.setItem("nickname",this.store.nickname),this.$router.push("/note");else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(e=>alert(e))},sign:function(){this.$router.push("/sign")},change:function(){this.$router.push("/change")}}},h={class:"wrap"},g={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},f=s("div",{class:"form-group"},[s("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u7528\u6237\u767B\u5F55")],-1),_={class:"form-group"},x={class:"form-group"},w={class:"buttonLogin"};function b(e,t,v,k,r,o){return d(),c("div",h,[s("form",g,[f,s("div",_,[s("p",null,[i(" \u8D26\u6237: "),l(s("input",{style:{height:25+"px"},"onUpdate:modelValue":t[0]||(t[0]=n=>r.username=n),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D"},null,512),[[a,r.username]])])]),s("div",x,[s("p",null,[i(" \u5BC6\u7801: "),l(s("input",{style:{height:25+"px"},"onUpdate:modelValue":t[1]||(t[1]=n=>r.password=n),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[a,r.password]])])]),s("div",w,[s("button",{class:"btn",onClick:t[2]||(t[2]=(...n)=>o.login&&o.login(...n))},"\u767B\u5F55"),s("button",{class:"btn",onClick:t[3]||(t[3]=(...n)=>o.change&&o.change(...n))},"\u4FEE\u6539\u5BC6\u7801"),s("button",{class:"btn",onClick:t[4]||(t[4]=(...n)=>o.sign&&o.sign(...n))},"\u6CE8\u518C")])])])}const B=p(m,[["render",b]]);export{B as default};
